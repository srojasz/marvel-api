(this.webpackJsonpmarvel=this.webpackJsonpmarvel||[]).push([[0],{188:function(e,a,t){e.exports=t.p+"static/media/marvel-cabecera.77fd783f.jpg"},189:function(e,a,t){e.exports=t.p+"static/media/no-results.b0826e42.jpg"},194:function(e,a,t){e.exports=t(408)},398:function(e,a,t){},399:function(e,a,t){},400:function(e,a,t){},401:function(e,a,t){},402:function(e,a,t){},407:function(e,a,t){},408:function(e,a,t){"use strict";t.r(a);t(195),t(204);var n=t(1),c=t.n(n),r=t(184),s=t.n(r),l=t(50),o=t(185),i=t(186),m=t(192),u=t(187),h=t(51),d=t(193),v=t(45);function f(e,a,t){return e.filter((function(e){return e.comics.available>=a&&e.comics.available<=t}))}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c="https://gateway.marvel.com:443/v1/public/characters?ts=1&limit=50&apikey=4d46429eee763362f21b987f0e5f594a&hash=b9cc6de99e12cc463c64a0fee68e69bc",r=e?"".concat(c,"&nameStartsWith=").concat(e):c;return n&&(r="".concat(r,"&orderBy=").concat(n)),fetch(r).then((function(e){return e.json()})).then((function(e){return e.data.results})).then((function(e){return void 0!==a&&void 0!==t?f(e,a,t):e})).catch((function(e){console.error(e)}))},g=(t(398),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"spinner-border text-info mb-3",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")),c.a.createElement("h3",{className:"text-dark"},"Loading..."))}),b=t(188),p=t.n(b);t(399);var _=function(){return c.a.createElement("header",{className:"header"},c.a.createElement("h2",{className:"header__title"},"Marvel Finder"),c.a.createElement("img",{src:p.a,alt:"Imagen de la cabecera con todos los personajes de Marvel"}))};t(400);var N=function(e){return c.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault()}},c.a.createElement("section",{className:"form-search"},c.a.createElement("label",{className:"form__label",htmlFor:"search"},"\xbfQu\xe9 personaje buscas?"),c.a.createElement("input",{className:"form__input-text",type:"text",name:"search",placeholder:"Ej. Hulk",value:e.search,onChange:function(a){var t=a.target.value;e.handleSearch(t)}})),c.a.createElement("section",{className:"form__comics"},c.a.createElement("h3",{className:"form__comics--title"},"\xbfCu\xe1ntos c\xf3mics protagoniza?"),c.a.createElement("select",{className:"form__comics--select",onChange:function(a){var t=a.target.value;e.handleComics(t)}},c.a.createElement("option",{value:""},"Todos"),c.a.createElement("option",{value:"-10"},"Menos de 10 c\xf3mics"),c.a.createElement("option",{value:"11-20"},"Entre 11 y 20 c\xf3mics"),c.a.createElement("option",{value:"+20"},"M\xe1s de 20 c\xf3mics"))))},y=t(189),C=t.n(y);t(401),t(402);var S=function(e){var a=e.name,t=e.id,n=e.img,r="/character/".concat(t);return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{className:"card__img",alt:"Imagen de ".concat(a),src:n}),c.a.createElement("h3",null,a),c.a.createElement(l.b,{to:r},c.a.createElement("button",{className:"card__button",title:"Pincha aqu\xed para conocer todos los detalles"},"M\xe1s informaci\xf3n")))};var j=function(e){return 0===e.characters.length?c.a.createElement("section",{className:"noresults"},c.a.createElement("p",{className:"noresults__text"},"Lo sentimos, no hemos encontrado lo que buscas. \xa1Int\xe9ntalo otra vez!"),c.a.createElement("img",{className:"noresults__img",alt:"Imagen de Superm\xe1n llorando",src:C.a})):c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"list"},c.a.createElement("div",{className:"list__info"},"Hay ",c.a.createElement("span",{className:"list__number"},e.characters.length)," personajes que coinciden con tus criterios de b\xfasqueda"),c.a.createElement("form",null,c.a.createElement("label",{className:"list__results--label"},"Ordenar resultados por:"),c.a.createElement("select",{className:"list__results--select",onChange:function(a){var t=a.target.value;e.sortResults(t)}},c.a.createElement("option",{value:"name"},"Nombre"),c.a.createElement("option",{value:"modified"},"Modificado"))),c.a.createElement("ul",{className:"list__list"},e.characters.map((function(e){return c.a.createElement("li",{className:"card",key:e.id},c.a.createElement(S,{name:e.name,id:e.id,img:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension)}))})))))};t(407);var k=function(e){var a=e.character,t=a.name,n=a.thumbnail,r=a.comics;return c.a.createElement("aside",{className:"detail"},c.a.createElement(l.b,{to:"/"},c.a.createElement("button",{className:"detail__button",title:"Volver al listado"},"Volver atr\xe1s")),c.a.createElement("img",{className:"detail__img",alt:"Imagen de ".concat(t),src:n.path+"."+n.extension}),c.a.createElement("h3",null,t),c.a.createElement("p",null,"C\xf3mics: ",r.available))},x=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).state={isLoading:!0,search:"",comics:"",orderBy:"",characters:[]},t.handleSearch=t.handleSearch.bind(Object(h.a)(t)),t.handleComics=t.handleComics.bind(Object(h.a)(t)),t.renderCharacterDetail=t.renderCharacterDetail.bind(Object(h.a)(t)),t.sortResults=t.sortResults.bind(Object(h.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"selectComicsRange",value:function(e){var a,t;return"-10"===e?(a=0,t=10):"11-20"===e?(a=11,t=20):"+20"===e?(a=21,t=Number.POSITIVE_INFINITY):(a=void 0,t=void 0),{min:a,max:t}}},{key:"handleSearch",value:function(e){var a=this,t=this.selectComicsRange(this.state.comics),n=t.min,c=t.max;this.setState({search:e,isLoading:!1}),E(e,n,c).then((function(e){a.setState({isLoading:!1,characters:e})})).catch((function(e){console.error("my error",e)}))}},{key:"handleComics",value:function(e){var a=this,t=this.state.search,n=this.selectComicsRange(e),c=n.min,r=n.max;this.setState({comics:e}),E(t,c,r).then((function(e){a.setState({isLoading:!1,characters:e})}))}},{key:"sortResults",value:function(e){var a=this,t=this.state.search,n=this.selectComicsRange(this.state.comics),c=n.min,r=n.max;this.setState({orderBy:e}),E(t,c,r,e).then((function(e){a.setState({isLoading:!1,characters:e})}))}},{key:"componentDidMount",value:function(){var e=this;E().then((function(a){void 0===a?e.setState({isLoading:!0}):e.setState({isLoading:!1,characters:a})}))}},{key:"renderCharacterDetail",value:function(e){var a=parseInt(e.match.params.id),t=this.state.characters.find((function(e){return e.id===a}));return void 0===t?c.a.createElement("h4",null,"Personaje no encontrado"):c.a.createElement(k,{character:t})}},{key:"render",value:function(){return console.log(this.state.characters),this.state.isLoading?c.a.createElement("div",{className:"ml-5 mt-5"},c.a.createElement(g,null)):c.a.createElement("div",{className:"container"},c.a.createElement(_,null),c.a.createElement(v.c,null,c.a.createElement(v.a,{exact:!0,path:"/"},c.a.createElement(N,{handleSearch:this.handleSearch,search:this.state.search,handleComics:this.handleComics}),c.a.createElement(j,{characters:this.state.characters,sortResults:this.sortResults})),c.a.createElement(v.a,{path:"/character/:id",render:this.renderCharacterDetail})))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(l.a,null,c.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[194,1,2]]]);
//# sourceMappingURL=main.98f180bc.chunk.js.map